<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User - Raise Ticket</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

    <!-- navbar -->
    <%- include('./partials/navbar.ejs') %>

    <div class="flex relative">
        <!-- leftPane menu bar -->
        <%- include('./partials/leftPane.ejs', {data: {
            active: "raiseTicket",
            user: data?.user
        }}) %>

        <!-- main content here -->
        <div id="content"
        class="h-[calc(100vh-4.1rem)] lg:ml-[300px] mt-[3.7rem] mx-auto w-11/12 max-w-maxContent overflow-auto">
                    
            <div class="mx-auto flex flex-col items-center w-11/12 max-w-[1000px] space-y-5 py-10">
                <h1 class="text-2xl font-semibold mt-5 text-center">
                    Raise Your Ticket
                </h1>
                <form 
                method="POST" 
                action="/ticket/createTicket"
                class="shadow-xl border-2 p-4 rounded-xl mx-auto mx-auto w-full md:w-[500px] flex flex-col gap-2 font-semibold mt-5">
                    <label for="title">
                        Title:
                    </label>
                    <input 
                    type="text" 
                    id="title" 
                    name="title" 
                    required
                    class="border-2 border-gray-300 rounded-md p-1 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                    
                    <label for="description">
                        Description:
                    </label>
                    <textarea cols="1" rows="3" 
                    id="description" 
                    name="description" 
                    required
                    class="border-2 border-gray-300 rounded-md p-1 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"></textarea>
                    
                    <label for="priority">
                        Priority:
                    </label>
                    <select 
                    name="priority" 
                    id="priority" 
                    class="border-2 border-gray-300 rounded-md p-1 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                        <option value="default" 
                        disabled 
                        selected>
                            Choose option
                        </option>    
                        <option value="Low">Low</option>
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                    </select>

                    <label for="department">
                        Department:
                    </label>
                    <select 
                    name="department" 
                    id="department" 
                    class="border-2 border-gray-300 rounded-md p-1 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent">
                        <!-- options are dynamiccaly loader from  script -->
                        <option value="default" 
                        disabled 
                        selected>
                            Choose option
                        </option>
                        <% data.allDepartments.forEach((department) => { %>
                            <option value="<%= department.departmentName %>">
                                <%= department.departmentName %>
                            </option>
                        <% }) %>
                    </select>
                    
                    <button 
                    type="submit" 
                    class="bg-blue-600 text-white rounded-md p-2 mt-3 hover:bg-blue-700 transition duration-300 ease-in-out">
                        Raise Ticket
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script src="/js/leftPane.js"></script>
    <script src="/js/profile.js"></script>

</body>
</html>